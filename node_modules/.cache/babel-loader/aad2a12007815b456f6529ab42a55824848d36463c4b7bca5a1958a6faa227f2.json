{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{useApi}from'../hooks/useApi';import Header from'../Home/Header';import Footer2 from'../Home/Footer2';import{API_BASE_URL}from'../config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BlogDetails=()=>{const{id}=useParams();const[blog,setBlog]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const{get}=useApi();const fetchBlog=async()=>{try{setLoading(true);setError(null);// Get the selected language from localStorage\nconst selectedLanguage=localStorage.getItem('selectedLanguage')||'en';const data=await get(\"\".concat(API_BASE_URL,\"/api/blogs/fblogs/\").concat(id,\"?lang=\").concat(selectedLanguage),'Loading blog...');setBlog(data);}catch(err){setError(\"Failed to load blog\");}finally{setLoading(false);}};useEffect(()=>{fetchBlog();// Listen for language changes\nconst handleLanguageChange=()=>{fetchBlog();};window.addEventListener('storage',handleLanguageChange);window.addEventListener('languageChanged',handleLanguageChange);return()=>{window.removeEventListener('storage',handleLanguageChange);window.removeEventListener('languageChanged',handleLanguageChange);};},[id]);if(loading)return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"2rem\",textAlign:\"center\"},children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"2rem\",textAlign:\"center\",color:\"red\"},children:error});if(!blog)return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"2rem\",textAlign:\"center\"},children:\"Blog not found\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"paddernews\",className:\"container\",style:{padding:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:blog.title||'Untitled'}),blog.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:blog.imageUrl,alt:blog.title||'Blog image',style:{width:\"100%\",maxHeight:\"400px\",objectFit:\"cover\",marginBottom:\"1rem\"}}),/*#__PURE__*/_jsx(\"p\",{children:blog.description||'No description available'})]}),/*#__PURE__*/_jsx(Footer2,{})]});};export default BlogDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","useApi","Header","Footer2","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BlogDetails","id","blog","setBlog","loading","setLoading","error","setError","get","fetchBlog","selectedLanguage","localStorage","getItem","data","concat","err","handleLanguageChange","window","addEventListener","removeEventListener","style","padding","textAlign","children","color","className","title","imageUrl","src","alt","width","maxHeight","objectFit","marginBottom","description"],"sources":["/Users/mac/Desktop/data/application/EFrontend/src/Blog2/BlogDetails.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useApi } from '../hooks/useApi';\nimport Header from '../Home/Header';\nimport Footer2 from '../Home/Footer2';\nimport { API_BASE_URL } from '../config';\n\nconst BlogDetails = () => {\n  const { id } = useParams();\n  const [blog, setBlog] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const { get } = useApi();\n\n  const fetchBlog = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      // Get the selected language from localStorage\n      const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en';\n      const data = await get(`${API_BASE_URL}/api/blogs/fblogs/${id}?lang=${selectedLanguage}`, 'Loading blog...');\n      setBlog(data);\n    } catch (err) {\n      setError(\"Failed to load blog\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchBlog();\n    // Listen for language changes\n    const handleLanguageChange = () => {\n      fetchBlog();\n    };\n    window.addEventListener('storage', handleLanguageChange);\n    window.addEventListener('languageChanged', handleLanguageChange);\n    return () => {\n      window.removeEventListener('storage', handleLanguageChange);\n      window.removeEventListener('languageChanged', handleLanguageChange);\n    };\n  }, [id]);\n\n  if (loading) return <div style={{ padding: \"2rem\", textAlign: \"center\" }}>Loading...</div>;\n  if (error) return <div style={{ padding: \"2rem\", textAlign: \"center\", color: \"red\" }}>{error}</div>;\n  if (!blog) return <div style={{ padding: \"2rem\", textAlign: \"center\" }}>Blog not found</div>;\n\n  return (\n    <>\n   <Header/>\n      <div id=\"paddernews\" className=\"container\" style={{ padding: \"2rem\" }}>\n        <h2>{blog.title || 'Untitled'}</h2>\n        {blog.imageUrl && (\n          <img\n            src={blog.imageUrl}\n            alt={blog.title || 'Blog image'}\n            style={{ width: \"100%\", maxHeight: \"400px\", objectFit: \"cover\", marginBottom: \"1rem\" }}\n          />\n        )}\n        <p>{blog.description || 'No description available'}</p>\n      </div>\n      <Footer2 />\n    </>\n  );\n};\n\nexport default BlogDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}