{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{useApi}from'../hooks/useApi';import Header from'../Home/Header';import Footer from'../Home/Footer';import Footer2 from'../Home/Footer2';import{API_BASE_URL}from'../config';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const NewsDetails=()=>{const{id}=useParams();const[post,setPost]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const{get}=useApi();const fetchPost=async()=>{try{setLoading(true);setError(null);// Get the selected language from localStorage\nconst selectedLanguage=localStorage.getItem('selectedLanguage')||'en';const data=await get(\"\".concat(API_BASE_URL,\"/api/news/\").concat(id,\"?lang=\").concat(selectedLanguage),'Loading news...');setPost(data);}catch(err){setError(\"Failed to load post\");}finally{setLoading(false);}};useEffect(()=>{fetchPost();// Listen for language changes\nconst handleLanguageChange=()=>{fetchPost();};window.addEventListener('storage',handleLanguageChange);window.addEventListener('languageChanged',handleLanguageChange);return()=>{window.removeEventListener('storage',handleLanguageChange);window.removeEventListener('languageChanged',handleLanguageChange);};},[id]);if(loading)return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"2rem\",textAlign:\"center\"},children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"2rem\",textAlign:\"center\",color:\"red\"},children:error});if(!post)return/*#__PURE__*/_jsx(\"div\",{style:{padding:\"2rem\",textAlign:\"center\"},children:\"Post not found\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"paddernews\",className:\"container\",style:{padding:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:post.title||'Untitled'}),post.imageUrl&&/*#__PURE__*/_jsx(\"img\",{src:post.imageUrl,alt:post.title||'News image',style:{width:\"100%\",maxHeight:\"400px\",objectFit:\"cover\"}}),/*#__PURE__*/_jsx(\"p\",{style:{marginTop:\"1rem\"},children:post.description||'No description available'})]}),/*#__PURE__*/_jsx(Footer2,{})]});};export default NewsDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","useApi","Header","Footer","Footer2","API_BASE_URL","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NewsDetails","id","post","setPost","loading","setLoading","error","setError","get","fetchPost","selectedLanguage","localStorage","getItem","data","concat","err","handleLanguageChange","window","addEventListener","removeEventListener","style","padding","textAlign","children","color","className","title","imageUrl","src","alt","width","maxHeight","objectFit","marginTop","description"],"sources":["/Users/mac/Desktop/data/application/EFrontend/src/Blog2/NewsDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useApi } from '../hooks/useApi';\nimport Header from '../Home/Header';\nimport Footer from '../Home/Footer';\nimport Footer2 from '../Home/Footer2';\nimport { API_BASE_URL } from '../config';\n\nconst NewsDetails = () => {\n  const { id } = useParams();\n  const [post, setPost] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const { get } = useApi();\n\n  const fetchPost = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      // Get the selected language from localStorage\n      const selectedLanguage = localStorage.getItem('selectedLanguage') || 'en';\n      const data = await get(`${API_BASE_URL}/api/news/${id}?lang=${selectedLanguage}`, 'Loading news...');\n      setPost(data);\n    } catch (err) {\n      setError(\"Failed to load post\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchPost();\n    // Listen for language changes\n    const handleLanguageChange = () => {\n      fetchPost();\n    };\n    window.addEventListener('storage', handleLanguageChange);\n    window.addEventListener('languageChanged', handleLanguageChange);\n    return () => {\n      window.removeEventListener('storage', handleLanguageChange);\n      window.removeEventListener('languageChanged', handleLanguageChange);\n    };\n  }, [id]);\n\n  if (loading) return <div style={{ padding: \"2rem\", textAlign: \"center\" }}>Loading...</div>;\n  if (error) return <div style={{ padding: \"2rem\", textAlign: \"center\", color: \"red\" }}>{error}</div>;\n  if (!post) return <div style={{ padding: \"2rem\", textAlign: \"center\" }}>Post not found</div>;\n\n  return (\n    <>\n      <Header />\n      <div id=\"paddernews\" className=\"container\" style={{ padding: \"2rem\" }}>\n        <h2>{post.title || 'Untitled'}</h2>\n        {post.imageUrl && (\n          <img \n            src={post.imageUrl} \n            alt={post.title || 'News image'} \n            style={{ width: \"100%\", maxHeight: \"400px\", objectFit: \"cover\" }} \n          />\n        )}\n        <p style={{ marginTop: \"1rem\" }}>{post.description || 'No description available'}</p>\n      </div>\n      <Footer2 />\n    </>\n  );\n};\n\nexport default NewsDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}